"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[901],{901:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var n=r(439),a=r(791),u=r(422),c=r(420),s=r(553),o=function(e){return e.contacts.items},i=((0,s.P1)([o,function(e){return e.filter}],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),r(861)),l=r(757),p=r.n(l),f=r(16),m=r(285),h=(0,m.hg)("contacts/fetchAll",function(){var e=(0,i.Z)(p().mark((function e(t,r){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.get("/contacts");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",r.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),d=(0,m.hg)("contacts/addContact",function(){var e=(0,i.Z)(p().mark((function e(t,r){var n,a,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.number,e.prev=1,e.next=4,f.Z.post("/contacts",{name:n,number:a});case 4:return u=e.sent,e.abrupt("return",u.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r.rejectWithValue(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),v=((0,m.hg)("contacts/deleteContact",function(){var e=(0,i.Z)(p().mark((function e(t,r){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.delete("/contacts/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",r.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),r(184)),b=(0,u.x0)(),x=(0,u.x0)();function w(){var e=(0,a.useState)(""),t=(0,n.Z)(e,2),r=t[0],u=t[1],s=(0,a.useState)(""),i=(0,n.Z)(s,2),l=i[0],p=i[1],f=(0,c.v9)(o),m=(0,c.I0)(),h=function(e){var t=e.target,r=t.name,n=t.value;switch(r){case"name":u(n);break;case"number":p(n);break;default:return}};return(0,v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f.some((function(e){return e.name.toLowerCase().trim()===r.toLowerCase().trim()}))?alert("".concat(r," is already in contacts")):(m(d({name:r,number:l})),u(""),p(""))},children:[(0,v.jsx)("label",{htmlFor:b,children:"Name"}),(0,v.jsx)("input",{type:"text",name:"name",value:r,onChange:h,required:!0}),(0,v.jsx)("label",{htmlFor:x,children:"Number"}),(0,v.jsx)("input",{type:"tel",name:"number",value:l,onChange:h,required:!0}),(0,v.jsx)("button",{type:"submit",children:"Add contact"})]})}function j(){var e=(0,c.I0)();return(0,a.useEffect)((function(){e(h())}),[e]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h1",{children:"Your contacts!"}),(0,v.jsx)(w,{})]})}}}]);
//# sourceMappingURL=901.15db87f2.chunk.js.map